<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>{{ title }}</title>

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- GitHub Markdown CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css/github-markdown-light.css">

<!-- 代码高亮 -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.8.0/styles/github.min.css">

<style>
.markdown-body {
    padding: 2rem;
    max-width: 900px;
    margin: auto;
}
</style>
</head>
<body>
<div class="container my-4">
    <div id="content" class="markdown-body"></div>
</div>

<!-- JS 库 -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/highlight.js@11.8.0/lib/highlight.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
    // Markdown 文本
    const mdText = {{ content | tojson | safe }};

    // 旧版 UMD 全局变量
    const html = marked.parse(mdText, {
        gfm: true,
        breaks: true,
        highlight: function(code, lang) {
            if (hljs.getLanguage(lang)) {
                return hljs.highlight(code, { language: lang }).value;
            }
            return hljs.highlightAuto(code).value;
        }
    });

    document.getElementById("content").innerHTML = html;
});
</script>

</body>
</html>
